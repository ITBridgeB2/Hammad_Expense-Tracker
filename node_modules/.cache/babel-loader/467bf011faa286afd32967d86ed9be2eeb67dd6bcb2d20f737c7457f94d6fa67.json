{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Desktop\\\\Projects\\\\expense\\\\src\\\\homepage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport expensedetails from './expensedetails';\nimport EditExpenseModal from './EditExpenseModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Expense = () => {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const [selectedExpense, setSelectedExpense] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  useEffect(() => {\n    fetchExpenses();\n  }, []);\n  const fetchExpenses = async () => {\n    try {\n      const res = await expensedetails.getExpenses();\n      setExpenses(res.data);\n    } catch (error) {\n      console.error('Failed to fetch expenses:', error);\n    }\n  };\n  const handleDelete = async id => {\n    const isConfirmed = window.confirm('Are you sure you want to delete this expense?');\n    if (isConfirmed) {\n      try {\n        await expensedetails.deleteExpense(id);\n        fetchExpenses();\n      } catch (error) {\n        console.error('Delete failed:', error);\n      }\n    }\n  };\n  const handleEditClick = expense => {\n    setSelectedExpense(expense);\n    setIsModalOpen(true);\n  };\n  const handleModalClose = () => {\n    setIsModalOpen(false);\n    setSelectedExpense(null);\n  };\n  const handleSave = async updatedExpense => {\n    try {\n      await expensedetails.updateExpense(updatedExpense.id, updatedExpense);\n      fetchExpenses();\n      handleModalClose();\n    } catch (error) {\n      console.error('Update failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Expense Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/add'),\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"My Expenses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Total Amount: \\u20B9\", expenses.reduce((total, exp) => total + parseFloat(exp.amount), 0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: expenses.map((exp, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [index + 1, \". \\u20B9\", exp.amount, \" - \", exp.category, \" - \", exp.date, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditClick(exp),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(exp.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, exp.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditExpenseModal, {\n      isOpen: isModalOpen,\n      onClose: handleModalClose,\n      expense: selectedExpense,\n      onSave: handleSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Expense, \"lTW5h7oPzxE7Q4Us8xMh7bBd8rA=\");\n_c = Expense;\nexport default Expense;\nvar _c;\n$RefreshReg$(_c, \"Expense\");","map":{"version":3,"names":["React","useState","useEffect","expensedetails","EditExpenseModal","jsxDEV","_jsxDEV","Expense","_s","expenses","setExpenses","selectedExpense","setSelectedExpense","isModalOpen","setIsModalOpen","fetchExpenses","res","getExpenses","data","error","console","handleDelete","id","isConfirmed","window","confirm","deleteExpense","handleEditClick","expense","handleModalClose","handleSave","updatedExpense","updateExpense","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","navigate","reduce","total","exp","parseFloat","amount","map","index","category","date","isOpen","onClose","onSave","_c","$RefreshReg$"],"sources":["C:/Users/moham/Desktop/Projects/expense/src/homepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport expensedetails from './expensedetails';\r\nimport EditExpenseModal from './EditExpenseModal';\r\n\r\nconst Expense = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [selectedExpense, setSelectedExpense] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchExpenses();\r\n  }, []);\r\n\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const res = await expensedetails.getExpenses();\r\n      setExpenses(res.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch expenses:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const isConfirmed = window.confirm('Are you sure you want to delete this expense?');\r\n    if (isConfirmed) {\r\n      try {\r\n        await expensedetails.deleteExpense(id);\r\n        fetchExpenses();\r\n      } catch (error) {\r\n        console.error('Delete failed:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (expense) => {\r\n    setSelectedExpense(expense);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedExpense(null);\r\n  };\r\n\r\n  const handleSave = async (updatedExpense) => {\r\n    try {\r\n      await expensedetails.updateExpense(updatedExpense.id, updatedExpense);\r\n      fetchExpenses();\r\n      handleModalClose();\r\n    } catch (error) {\r\n      console.error('Update failed:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Expense Tracker</h2>\r\n      <button onClick={() => navigate('/add')}>Add</button>\r\n\r\n      <h3>My Expenses</h3>\r\n      <p>\r\n        <strong>\r\n          Total Amount: ₹\r\n          {expenses.reduce((total, exp) => total + parseFloat(exp.amount), 0)}\r\n        </strong>\r\n      </p>\r\n      <ul>\r\n        {expenses.map((exp, index) => (\r\n          <li key={exp.id}>\r\n            {index + 1}. ₹{exp.amount} - {exp.category} - {exp.date}\r\n            <button onClick={() => handleEditClick(exp)}>Edit</button>\r\n            <button onClick={() => handleDelete(exp.id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <EditExpenseModal\r\n        isOpen={isModalOpen}\r\n        onClose={handleModalClose}\r\n        expense={selectedExpense}\r\n        onSave={handleSave}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expense;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}